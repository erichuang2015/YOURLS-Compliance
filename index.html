<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Yourls-compliance by joshp23</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Yourls-compliance</h1>
      <h2 class="project-tagline">An anti-abuse plugin for YOURLS that implements a flagging and warning system for hazardous links.</h2>
      <a href="https://github.com/joshp23/YOURLS-Compliance" class="btn">View on GitHub</a>
      <a href="https://github.com/joshp23/YOURLS-Compliance/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/joshp23/YOURLS-Compliance/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="compliance-for-yourls" class="anchor" href="#compliance-for-yourls" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compliance for YOURLS</h1>

<p>An anti-abuse plugin written for and tested with YOURLS 1.7.1</p>

<p>By Josh Panter <a href="https://unfettered.net">Unfettered</a>. See it in action at <a href="https://0eq2.com/">0=2</a> - An Unfettered URL Shortening Service</p>

<p>Compliance is designed to address link complaints from 3rd parties. Compliance implements a flag-list which can be updated via the admin interface or via an optional public report-page. This allows any visitor to complain about a potentially abusive URL which is then marked in the admin section, and future visitors are given the option to either continue through or avoid the link at their discretion.</p>

<p>Compliance is highly customizable. You can set the following options in the admin section of YOURLS:</p>

<ol>
<li>Nuke any flagged URL on its next redirect (Default: preserve the links)</li>
<li>Use a custom intercept page for flagged URL redirects (Default: use the Compliance Bootstrap page)</li>
<li>Expose flags on Admin interface or not (Default: Expose the flags)</li>
<li>Keep or drop the Compliance sql table on plugin deactivation (Default: Drop)</li>
<li>Flush your flag-list table and start fresh.</li>
</ol>

<p>The default interecept and abuse report pages are both written with Bootstrap.</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REQUIREMENTS</h2>

<ol>
<li>A working <a href="https://github.com/YOURLS/YOURLS">YOURLS</a> installation</li>
<li>YOURLS mysql user should have CREATE TABLE grants on YOURLS database. See NOTE.</li>
</ol>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>INSTALLATION</h3>

<ol>
<li>Place the compliance folder in YOURLS/user/plugins</li>
<li>Activate Compliance for Yourls in the Admin interface - sql tables should be made automatically</li>
<li>Set options in the Compliance options page. The default options are just fine. Clicking submit on various forms will enter the default values into the sql tables, but null values all fall back to default actions as well.</li>
<li>
<p>Link abuse.php to the pages/ directory. From YOURLS base directory:</p>

<div class="highlight highlight-source-shell"><pre>$ ln -s ./user/plugins/compliance/abuse.php ./pages/abuse.php</pre></div>
</li>
</ol>

<h4>
<a id="note-the-sql-table-may-need-to-be-added-manually-using-compliancesql-located-in-complianceassets" class="anchor" href="#note-the-sql-table-may-need-to-be-added-manually-using-compliancesql-located-in-complianceassets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NOTE: The sql table may need to be added manually using compliance.sql located in compliance/assets/.</h4>

<h3>
<a id="wont-do" class="anchor" href="#wont-do" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WON'T DO:</h3>

<ol>
<li>Flagged links need to be sanitized against known blacklists (ex: GSB, etc.) and deleted. This is not a part of the current release, as other plugins, such as <a href="https://github.com/joshp23/YOURLS-Phishtank-2.0">Phishtank-2.0</a>, can check blacklists before link submissionn and recheck them on redirects. It is highly reccomended that one of the existing blacklist plugins be used.</li>
<li>Project Honeypot (or some otehr "gate keeper") implimented in order to prevent acces from known abusers. This needs to be it's own entity.</li>
</ol>

<h3>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TODO:</h3>

<ol>
<li>Add options to flag/unflag url + visit flaglist in traditional Admin Interface section</li>
</ol>

<h3>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CREDITS</h3>

<p>Scripts used for inspiration and/or copypasta:</p>

<ol>
<li><a href="https://github.com/florianoverkamp/yourls-abusedesk">YOURLS Abuse Desk</a></li>
<li><a href="https://github.com/joelgratcyk/yourls-interstitial-plugin">YOURLS Interstitial plugin</a></li>
<li><a href="https://github.com/YOURLS/YOURLS/wiki/Plugin-=-Preview-URL">YOURLS Preview URL</a></li>
</ol>

<h1></h1>

<pre><code>Copyright (C) 2016 Josh Panter

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/joshp23/YOURLS-Compliance">Yourls-compliance</a> is maintained by <a href="https://github.com/joshp23">joshp23</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
